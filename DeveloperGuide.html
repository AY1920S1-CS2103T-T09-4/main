<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]--><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="Asciidoctor 1.5.6.1"><title>Seller Manager Lite - Developer Guide</title><link rel="stylesheet" href="stylesheets/gh-pages.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.5.0/css/font-awesome.min.css">
<link rel="stylesheet" href="stylesheets/coderay-asciidoctor.css"></head><body class="article"><div id="site-header"><nav class="navbar navbar-light bg-light"><div class="container"><a class="navbar-brand" href="index.html">Seller Manager Lite</a><ul class="navbar-nav"><li class="nav-item"><a class="nav-link" href="UserGuide.html">User Guide</a></li><li class="nav-item"><a class="nav-link active" href="DeveloperGuide.html">Developer Guide</a></li><li class="nav-item"><a class="nav-link" href="LearningOutcomes.html">LOs</a></li><li class="nav-item"><a class="nav-link" href="AboutUs.html">About Us</a></li><li class="nav-item"><a class="nav-link" href="ContactUs.html">Contact Us</a></li><li class="navitem"><a class="nav-link" href="https://github.com/AY1920S1-CS2103T-T09-4/main"><span class="fa fa-github fa-lg" aria-hidden="true"></span>&nbsp;View on GitHub</a></li></ul></div></nav></div><div id="header"><h1>Seller Manager Lite - Developer Guide</h1></div><div id="content"><div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>By: <code>Team T09-4</code>      Since: <code>Sep 2019</code>      Licence: <code>MIT</code></p>
</div>
</div>
<div id="toc" class="toc">
<div id="toctitle"></div>
<ul class="sectlevel1">
<li><a href="#setting-up">1. Setting up</a></li>
<li><a href="#design">2. Design</a>
<ul class="sectlevel2">
<li><a href="#Design-Architecture">2.1. Architecture</a></li>
<li><a href="#Design-Ui">2.2. UI component</a></li>
<li><a href="#Design-Logic">2.3. Logic component</a></li>
<li><a href="#Design-Model">2.4. Model component</a></li>
<li><a href="#Design-Storage">2.5. Storage component</a></li>
<li><a href="#Design-Commons">2.6. Common classes</a></li>
</ul>
</li>
<li><a href="#implementation">3. Implementation</a>
<ul class="sectlevel2">
<li><a href="#statistics-calculation-and-chart-generation-feature">3.1. Statistics Calculation and Chart generation feature</a></li>
<li><a href="#autocomplete-feature">3.2. Autocomplete feature</a></li>
<li><a href="#calendar-schedule-feature">3.3. Calendar / Schedule feature</a></li>
<li><a href="#find-customer-phone-order-feature">3.4. Find Customer/Phone/Order feature</a></li>
<li><a href="#export-feature">3.5. Export feature</a></li>
<li><a href="#undo-redo-feature">3.6. Undo/Redo feature</a></li>
<li><a href="#proposed-data-encryption">3.7. [Proposed] Data Encryption</a></li>
<li><a href="#logging">3.8. Logging</a></li>
<li><a href="#Implementation-Configuration">3.9. Configuration</a></li>
</ul>
</li>
<li><a href="#documentation">4. Documentation</a></li>
<li><a href="#testing">5. Testing</a></li>
<li><a href="#dev-ops">6. Dev Ops</a></li>
<li><a href="#product-scope">Appendix A: Product Scope</a></li>
<li><a href="#user-stories">Appendix B: User Stories</a></li>
<li><a href="#use-cases">Appendix C: Use Cases</a></li>
<li><a href="#non-functional-requirements">Appendix D: Non Functional Requirements</a></li>
<li><a href="#glossary">Appendix E: Glossary</a>
<ul class="sectlevel2">
<li><a href="#sml-specific-terms">E.1. SML-specific Terms</a></li>
</ul>
</li>
<li><a href="#product-survey">Appendix F: Product Survey</a></li>
<li><a href="#instructions-for-manual-testing">Appendix G: Instructions for Manual Testing</a>
<ul class="sectlevel2">
<li><a href="#launch-and-shutdown">G.1. Launch and Shutdown</a></li>
<li><a href="#adding-a-phone">G.2. Adding a phone</a></li>
<li><a href="#deleting-a-customer">G.3. Deleting a customer</a></li>
<li><a href="#editing-an-order">G.4. Editing an order</a></li>
<li><a href="#saving-data">G.5. Saving data</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div class="sect1">
<h2 id="setting-up"><a class="link" href="#setting-up">1. Setting up</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Refer to the guide <a href="SettingUp.html">here</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="design"><a class="link" href="#design">2. Design</a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="Design-Architecture"><a class="link" href="#Design-Architecture">2.1. Architecture</a></h3>
<div class="imageblock">
<div class="content">
<img src="images/ArchitectureDiagram.png" alt="ArchitectureDiagram">
</div>
<div class="title">Figure 1. Architecture Diagram</div>
</div>
<div class="paragraph">
<p>The <strong><em>Architecture Diagram</em></strong> given above explains the high-level design of the App. Given below is a quick overview of each component.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
The <code>.puml</code> files used to create diagrams in this document can be found in the <a href="https://github.com/AY1920S1-CS2103T-T09-4/main/docs/diagrams/">diagrams</a> folder.
Refer to the <a href="UsingPlantUml.html">Using PlantUML guide</a> to learn how to create and edit diagrams.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><code>Main</code> has two classes called <a href="https://github.com/AY1920S1-CS2103T-T09-4/main/src/main/java/seedu/address/Main.java"><code>Main</code></a> and <a href="https://github.com/AY1920S1-CS2103T-T09-4/main/src/main/java/seedu/address/MainApp.java"><code>MainApp</code></a>. It is responsible for,</p>
</div>
<div class="ulist">
<ul>
<li>
<p>At app launch: Initializes the components in the correct sequence, and connects them up with each other.</p>
</li>
<li>
<p>At shut down: Shuts down the components and invokes cleanup method where necessary.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a href="#Design-Commons"><strong><code>Commons</code></strong></a> represents a collection of classes used by multiple other components.
The following class plays an important role at the architecture level:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>LogsCenter</code> : Used by many classes to write log messages to the App&#8217;s log file.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The rest of the App consists of five components.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#Design-Ui"><strong><code>UI</code></strong></a>: The UI of the App.</p>
</li>
<li>
<p><a href="#Design-Logic"><strong><code>Logic</code></strong></a>: The command executor.</p>
</li>
<li>
<p><a href="#Design-Model"><strong><code>Model</code></strong></a>: Holds the data of the App in-memory.</p>
</li>
<li>
<p><a href="#Design-Storage"><strong><code>Storage</code></strong></a>: Reads data from, and writes data to, the hard disk.</p>
</li>
<li>
<p><a href="#Design-Statistics"><strong><code>Statistics</code></strong></a>: Generate statistics and charts. (The use of this module is covered in the Statistic Section)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Each of the five components</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Defines its <em>API</em> in an <code>interface</code> with the same name as the Component.</p>
</li>
<li>
<p>Exposes its functionality using a <code>{Component Name}Manager</code> class.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For example, the <code>Logic</code> component (see the class diagram given below) defines it&#8217;s API in the <code>Logic.java</code> interface and exposes its functionality using the <code>LogicManager.java</code> class.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/LogicClassDiagram.png" alt="LogicClassDiagram">
</div>
<div class="title">Figure 2. Class Diagram of the Logic Component</div>
</div>
<h4 id="how-the-architecture-components-interact-with-each-other" class="discrete">How the architecture components interact with each other</h4>
<div class="paragraph">
<p>The <em>Sequence Diagram</em> below shows how the components interact with each other for the scenario where the user issues the command <code>delete-c 1</code>.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/ArchitectureSequenceDiagram.png" alt="ArchitectureSequenceDiagram">
</div>
<div class="title">Figure 3. Component interactions for <code>delete-c 1</code> command</div>
</div>
<div class="paragraph">
<p>The sections below give more details of each component.</p>
</div>
</div>
<div class="sect2">
<h3 id="Design-Ui"><a class="link" href="#Design-Ui">2.2. UI component</a></h3>
<div class="imageblock">
<div class="content">
<img src="images/UiClassDiagram.png" alt="UiClassDiagram">
</div>
<div class="title">Figure 4. Structure of the UI Component</div>
</div>
<div class="paragraph">
<p><strong>API</strong> : <a href="https://github.com/AY1920S1-CS2103T-T09-4/main/src/main/java/seedu/address/ui/Ui.java"><code>Ui.java</code></a></p>
</div>
<div class="paragraph">
<p>The UI consists of a <code>MainWindow</code> that is made up of parts
e.g.<code>CommandBox</code>, <code>ResultDisplay</code>, <code>TabPanel</code> , <code>StatusBarFooter</code> etc.
<code>TabPanel</code> consists of <code>CustomerListPanel</code> , <code>OrderListPanel</code>, <code>PhoneListPanel</code> , <code>CalendarListPanel</code>
and <code>ArchivedOrderListPanel</code>
All these, including the <code>MainWindow</code>, inherit from the abstract <code>UiPart</code> class.</p>
</div>
<div class="paragraph">
<p>The <code>UI</code> component uses JavaFx UI framework. The layout of these UI parts are defined in matching <code>.fxml</code> files that are in the <code>src/main/resources/view</code> folder. For example, the layout of the <a href="https://github.com/AY1920S1-CS2103T-T09-4/main/src/main/java/seedu/address/ui/MainWindow.java"><code>MainWindow</code></a> is specified in <a href="https://github.com/AY1920S1-CS2103T-T09-4/main/src/main/resources/view/MainWindow.fxml"><code>MainWindow.fxml</code></a></p>
</div>
<div class="paragraph">
<p>The <code>UI</code> component,</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Executes user commands using the <code>Logic</code> component.</p>
</li>
<li>
<p>Listens for changes to <code>Model</code> data so that the UI can be updated with the modified data.</p>
</li>
<li>
<p>Different changes in each tab or panel is controlled via the enum <code>UiChange</code></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="Design-Logic"><a class="link" href="#Design-Logic">2.3. Logic component</a></h3>
<div id="fig-LogicClassDiagram" class="imageblock">
<div class="content">
<img src="images/LogicClassDiagram.png" alt="LogicClassDiagram">
</div>
<div class="title">Figure 5. Structure of the Logic Component</div>
</div>
<div class="paragraph">
<p><strong>API</strong> :
<a href="https://github.com/AY1920S1-CS2103T-T09-4/main/src/main/java/seedu/address/logic/Logic.java"><code>Logic.java</code></a></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><code>Logic</code> uses the <code>SellerManagerParser</code> class to parse the user command.</p>
</li>
<li>
<p>This results in a <code>Command</code> object which is executed by the <code>LogicManager</code>.</p>
</li>
<li>
<p>The command execution can affect the <code>Model</code> (e.g. adding a customer/phone/order/schedule).</p>
</li>
<li>
<p>The result of the command execution, a <code>String</code> message and <code>UiChange</code> enum is encapsulated as a <code>CommandResult</code> object which is passed back to the <code>Ui</code>.</p>
</li>
<li>
<p>In addition, the <code>UiChange</code> enum in the <code>CommandResult</code> object can also instruct the <code>Ui</code> to perform certain actions, such as displaying the respective panels or help/statistics window.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Given below is the Sequence Diagram for interactions within the <code>Logic</code> component for the <code>execute("delete-c 1")</code> API call.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/DeleteSequenceDiagram.png" alt="DeleteSequenceDiagram">
</div>
<div class="title">Figure 6. Interactions Inside the Logic Component for the <code>delete-c 1</code> Command</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The lifeline for <code>DeleteCustomerCommandParser</code> should end at the destroy marker (X) but due to a limitation of PlantUML, the lifeline reaches the end of diagram.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="Design-Model"><a class="link" href="#Design-Model">2.4. Model component</a></h3>
<div class="imageblock">
<div class="content">
<img src="images/ModelClassDiagram.png" alt="ModelClassDiagram">
</div>
<div class="title">Figure 7. Structure of the Model Component</div>
</div>
<div class="paragraph">
<p><strong>API</strong> : <a href="https://github.com/AY1920S1-CS2103T-T09-4/main/src/main/java/seedu/address/model/Model.java"><code>Model.java</code></a></p>
</div>
<div class="paragraph">
<p>The <code>Model</code>,</p>
</div>
<div class="ulist">
<ul>
<li>
<p>stores a <code>UserPref</code> object that represents the user&#8217;s preferences.</p>
</li>
<li>
<p>stores a <code>CalendarDate</code> object that stores date shown on the calendar panel.</p>
</li>
<li>
<p>stores <code>Customer</code>, <code>Phone</code>, <code>Order</code> and <code>Schedule</code> data in a <code>DataBook</code> each.</p>
</li>
<li>
<p>a <code>DataBook</code> is backed by an underlying <code>UniqueList</code> which stores subclasses of <code>Identifiable</code></p>
</li>
<li>
<p>the <code>Identifiable</code> interfaces exposes an <code>isSameAs</code> method which is used to determine if two objects have the same identity</p>
</li>
<li>
<p>exposes 4 unmodifiable <code>ObservableList&lt;Identifiable&gt;</code> that can be 'observed' e.g. the UI can be bound to this list so that the UI automatically updates when the data in the list change.</p>
</li>
<li>
<p>does not depend on any of the other four components.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
As a more OOP model, we can store a <code>UniqueList&lt;Tag&gt;</code> in <code>Seller Manager</code>, which <code>Customer</code> / <code>Phone</code> / <code>Order</code> / <code>Schedule</code>  can reference.
This would allow <code>Seller Manager</code> to only require one <code>Tag</code> object per unique <code>Tag</code>, instead of each object needing their own <code>Tag</code>.
An example of how such <code>UniqueList&lt;Tag&gt;</code> and <code>UniqueList&lt;Customer&gt;</code> interacts is given below.<br>
<br>
<span class="image"><img src="images/BetterModelClassDiagram.png" alt="BetterModelClassDiagram"></span>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="Design-Storage"><a class="link" href="#Design-Storage">2.5. Storage component</a></h3>
<div class="imageblock">
<div class="content">
<img src="images/StorageClassDiagram.png" alt="StorageClassDiagram">
</div>
<div class="title">Figure 8. Structure of the Storage Component</div>
</div>
<div class="paragraph">
<p><strong>API</strong> : <a href="https://github.com/AY1920S1-CS2103T-T09-4/main/src/main/java/seedu/address/storage/Storage.java"><code>Storage.java</code></a></p>
</div>
<div class="paragraph">
<p>The <code>Storage</code> component,</p>
</div>
<div class="ulist">
<ul>
<li>
<p>can save <code>UserPref</code> objects in json format and read it back.</p>
</li>
<li>
<p>can save the Customer Book data, Phone Book data, Order Book data and Schedule Book data in json format and read them
back.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="Design-Commons"><a class="link" href="#Design-Commons">2.6. Common classes</a></h3>
<div class="paragraph">
<p>Classes used by multiple components are in the <code>seedu.address.commons</code> package.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="implementation"><a class="link" href="#implementation">3. Implementation</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section describes some noteworthy details on how certain features are implemented.</p>
</div>
<div class="sect2">
<h3 id="statistics-calculation-and-chart-generation-feature"><a class="link" href="#statistics-calculation-and-chart-generation-feature">3.1. Statistics Calculation and Chart generation feature</a></h3>
<div class="sect3">
<h4 id="implementation-2"><a class="link" href="#implementation-2">3.1.1. Implementation</a></h4>
<div class="paragraph">
<p>This statistic calculation and chart generation feature extends <code>Seller Manager Lite</code> which allows seller to quickly
generate total statistics from their <code>DataBooks</code>, through the use of a <code>statistic</code>
module that handles this calculation.</p>
</div>
<div class="paragraph">
<p>There is three type of statistic to be calculated and only on <code>completed orders</code>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>Profit</code></p>
</li>
<li>
<p><code>Cost</code></p>
</li>
<li>
<p><code>Revenue</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>It implements the following mode of operations:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>default mode with no date input: generates on all completed order total <code>profit</code> , <code>cost</code> or <code>revenue</code></p>
<div class="ulist">
<ul>
<li>
<p>The command enter by the user will be e.g for profit type <code>generate-s s/PROFIT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>mode with date input from user: The statistic command takes in 2 <code>dates</code>, <code>starting date</code> and <code>ending date</code>
and generates the <code>profit</code>, <code>cost</code> or <code>revenue</code>  each <code>month</code> between this 2 dates.</p>
<div class="ulist">
<ul>
<li>
<p>command entered by user will be e.g for profit type`generate-s s/PROFIT s1/YYYY.MM.DD s2/YYYY.MM.DD`</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>Here is the sequence of steps taken by SMLJ when it receives a <code>StatCommand</code>:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/StatisticsCalculationAcitvityDiagram.png" alt="StatisticsCalculationAcitvityDiagram">
</div>
</div>
<div class="sect4">
<h5 id="Design-Statistics"><a class="link" href="#Design-Statistics">Statistic Module</a></h5>
<div class="paragraph">
<p>The statistic module exposes the calculation operations in the <code>Statistics</code> interface.
analogous to the output mode, there are 2 types of methods in this module, one that returns a
<code>String</code> and the other and <code>XYChart.Series&lt;String,Number&gt;</code></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Methods that return a <code>String</code>:</p>
<div class="ulist">
<ul>
<li>
<p><code>calculateTotalProfitOnCompleted(&#8230;&#8203;)</code></p>
</li>
<li>
<p><code>calculateTotalRevenueOnCompleted(&#8230;&#8203;)</code></p>
</li>
<li>
<p><code>calculateTotalCostOnCompleted(&#8230;&#8203;)</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Methods that return a <code>XYChart.Series&lt;String,Number&gt;</code>:</p>
<div class="ulist">
<ul>
<li>
<p><code>calculateTotalProfitOnCompletedGraph(&#8230;&#8203;)</code></p>
</li>
<li>
<p><code>calculateTotalRevenueOnCompletedGraph(&#8230;&#8203;)</code></p>
</li>
<li>
<p><code>calculateTotalCostOnCompletedGraph(&#8230;&#8203;)</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>All methods were written using java8 Stream() feature. This is such that there are no loops in the code to make it
more readable and maintainable.</p>
</div>
<div class="paragraph">
<p><code>org.apache.commons.math3.stat.StatUtils</code> library is used to calculate the raw data inside a <code>double[]</code>  (primitive double array).
While the current <code>v1.4</code> only use <code>sum</code> to calculate the exact <code>profit</code> , <code>revenue</code> and <code>cost</code> , <code>v2.0</code> implementation
will make use of the <code>linear regression</code> / <code>average</code> methods inside the library to generate more advanced statistics.</p>
</div>
</div>
<div class="sect4">
<h5 id="design-considerations-alternative-designs-considered"><a class="link" href="#design-considerations-alternative-designs-considered">Design Considerations / Alternative designs considered</a></h5>
<div class="paragraph">
<p>Given that the number of orders in a seller database might be scaled to be very large in the future
the main focus of this feature was to <strong>calculate statistics only when needed</strong>.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Alternative design :</p>
<div class="ulist">
<ul>
<li>
<p>To implement statistics, maintain a few running statistic
counter upon loading of the main app, update these counters/values when calculation is needed
and then display it. This implementation would have been easy to implement within the existing AB3 code
since it meant extending the <code>Model</code> class with a statistic model, than having the <code>UI</code> class to read from
this value.</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Easy to implement on top of AB3</p>
</li>
<li>
<p>cons: Seller will be unable to obtain an instance of past statistics at each point without storing the history of the statistics somewhere, since any change in the database / models will cause the values to change</p>
</li>
<li>
<p>cons: Will bloat the UI since there will be extra details to be displayed and there is an extra panel on screen.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Alternative Design (current design) :</p>
<div class="ulist">
<ul>
<li>
<p><code>Statistics</code> module will exist outside of the current packages and be standalone. <code>Logic</code> will handle communication with
this module from <code>UI</code>. Respective Statistics will then be obtained from <code>Logic</code> to be displayed by the <code>StatsWindow</code>.</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Ensure that the respective tasks are properly abstracted, adhering to Single Responsibility Principle.</p>
</li>
<li>
<p>Pros: Being standalone means the way of calculating the statistics can be changed without affecting the rest of the codebase</p>
</li>
<li>
<p>Cons: <code>Logic</code> will have to handle more calls and increases its responsibilities</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="sect5">
<h6 id="design-decision-1"><a class="link" href="#design-decision-1">Design Decision 1:</a></h6>
<div class="paragraph">
<p>Given that consideration, we decided that it will be the <code>UI</code> to trigger this call to <code>Logic</code> for calculation
and then display the result of that call. Thus when Statistics need to be shown, the <code>UI</code> module will query the
<code>Logic</code> for the respective data</p>
</div>
<div class="paragraph">
<p>One of the motivation for this approach was to, as much as possible, maintain the architecture that is already in place in AB3.</p>
</div>
<div class="paragraph">
<p>Furthermore, given that this feature requires date input from the user, we will need to find a way to get <code>UI</code> to send
the data to make that query to logic. For the old AB3 implementation, <code>CommandResult</code> only contains a feedback to user
with the actual changes on data done with a call to model during <code>execute(model)</code>.</p>
</div>
</div>
<div class="sect5">
<h6 id="design-decision-2"><a class="link" href="#design-decision-2">Design Decision 2:</a></h6>
<div class="paragraph">
<p>We decided to extend this command pattern by creating a <code>statsPayload</code> object. This object will hold the user
queries for the statistic calculation (if there is any) and be bundled along with the <code>CommandResult</code> class to the
<code>UI</code> to use in its query to logic. When the Ui executes the command to logic, the <code>CommandResult</code> is returned with
this object, which the <code>UI</code> will then use to communicate to <code>Logic</code>.</p>
</div>
<div class="paragraph">
<p>The resulting change is that the <code>commandResult</code> type will have a slightly different behaviour. *All <code>commands</code> that
are not <code>statsCommand</code> will call the default constructor of the <code>commandResult</code> class, where there is  an
<code>Optional.empty()</code> in place of the <code>StatsPayload</code> * .</p>
</div>
<div class="paragraph">
<p>All <code>statsCommand</code> type will have call the constructor of <code>commandResult</code> class and pass the <code>StatsPayload</code> object in.</p>
</div>
<div class="paragraph">
<p>The key motivation behind this idea of a payload was to be able to encapsulate details about the calculation inside a
single object, passed it to the appropriate place to be "unwrapped" when needed. This unwrapping is done by the
<code>mainWindow</code> class in the application and subsequently the data is passed to the  <code>statistic</code> module.</p>
</div>
<div class="paragraph">
<p>A high level view of the packages working together:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/statsOverallClassDiagram.png" alt="statsOverallClassDiagram">
</div>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="current-implementation"><a class="link" href="#current-implementation">3.1.2. Current Implementation</a></h4>
<div class="sect5">
<h6 id="step-by-step-breakdown"><a class="link" href="#step-by-step-breakdown">Step-by-step breakdown</a></h6>
<div class="paragraph">
<p>Below is a more in-depth explanation at each step.</p>
</div>
<div class="paragraph">
<p><strong>Note that this breakdown is for the mode with date input.
For the default mode with no date, the steps are almost the same, except that
 <code>DefaultStatisticsWindow</code> is called in place of <code>StatisticsWindow</code></strong></p>
</div>
<div class="paragraph">
<p>Step 1: User inputs a stats command e.g <code>generate-s s/REVENUE d1/2018.12.13 d2/2019.11.13</code>.</p>
</div>
<div class="paragraph">
<p>The commandBox executes it and the <code>MainWindow</code> runs its <code>executeCommand(commandText)</code> method.</p>
</div>
<div class="paragraph">
<p>Referring to the sequence diagram below,this results in <code>logic.execute(commandText)</code> being called and
the <code>statsCommandParser</code> parses the input from the user, returning a
<code>Command</code> object</p>
</div>
<div class="paragraph">
<p>Seen here is the sequence diagram of the first step</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/StatsCommandSequenceDiagram1.png" alt="StatsCommandSequenceDiagram1">
</div>
</div>
<div class="paragraph">
<p>Step 2: the logic then calls <code>command.execute(command)</code> (refer to the second set of arrow coming out of <code>LogicManager</code>)</p>
</div>
<div class="paragraph">
<p>When this happens, the <code>StatsCommand</code> execute triggering a call to create the new <code>StatsPayload</code>. Then this is used to
create a new <code>CommandResult</code> object and returns that to <code>Logic</code> , completing the execution of the user input command.</p>
</div>
<div class="paragraph">
<p>Seen here is the sequence diagram of the second step</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/StatsCommandSequenceDiagram2.png" alt="StatsCommandSequenceDiagram2">
</div>
</div>
<div class="paragraph">
<p>Shown below is a quick summary of step 1-2 (Full complete diagram):</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/StatsCommandSequenceDiagram.png" alt="StatsCommandSequenceDiagram">
</div>
</div>
<div class="paragraph">
<p>Step 3: After the logic component completes it execution and return a <code>CommandResult</code>, the <code>UI</code> will call
<code>performUiChanges</code> that handles the specific <code>UI</code> change.</p>
</div>
<div class="paragraph">
<p>This then results in the <code>statsPayload</code> class being passed to <code>Logic</code> class and subsequently the <code>statistics</code> module,
where the appropriate calculation will take place.</p>
</div>
<div class="paragraph">
<p>Step 4: <code>Statistic Manager</code> calculates the date</p>
</div>
<div class="paragraph">
<p>Depending on the input, the <code>Statistic Manager</code> will calculate the value and return that, either in the form of
a <code>String</code> or a <code>XYChart.Series&lt;String, Number&gt;</code></p>
</div>
<div class="paragraph">
<p>Step 5: with this output from logic, <code>Statistic Window</code> will then handle the diplaying of the statistic, be it in chart
form or string form. With this the feature has finished executing! Attached below is the summary for step 3-5:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/StatisticsCalculationUI.png" alt="StatisticsCalculationUI">
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="current-version-code-v1-4-code"><a class="link" href="#current-version-code-v1-4-code">3.1.3. Current Version <code>v1.4</code>:</a></h4>
<div class="paragraph">
<p>Here are some screenshots of the current product:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/StatsExampleGraph.png" alt="StatsExampleGraph" width="600">
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="images/StatsExampleDefault.png" alt="StatsExampleDefault" width="600">
</div>
</div>
</div>
<div class="sect3">
<h4 id="limitations-note-to-developers"><a class="link" href="#limitations-note-to-developers">3.1.4. Limitations / note to developers:</a></h4>
<div class="paragraph">
<p>Developers working on adding features to this module should take note of these limitations that we have put in place for <code>v1.4</code> of SMLJ:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Date range starts from 1970 onwards</p>
<div class="ulist">
<ul>
<li>
<p>Date of year input starts from 1970 onwards.
This is enough to fit our use case.
Anything lower will be rejected.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Extension of additional Calculation methods</p>
<div class="ulist">
<ul>
<li>
<p>To easily extend the behaviour with additional
methods to calculate, reference the current
implementation in <code>StatisticsManager</code>;
There are utility methods to help you with
extracting the relevant information from your data.</p>
</li>
</ul>
</div>
</li>
<li>
<p>UI Changes</p>
<div class="ulist">
<ul>
<li>
<p>Any additional Ui Changes should be handled by the controllers for the UI classes <code>StatisticWindow</code> and <code>DefaultStatisticWindow</code>
class.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="autocomplete-feature"><a class="link" href="#autocomplete-feature">3.2. Autocomplete feature</a></h3>
<div class="imageblock">
<div class="content">
<img src="images/AutoCompleteClassDiagram.png" alt="AutoCompleteClassDiagram">
</div>
</div>
<div class="sect3">
<h4 id="current-implementation-2"><a class="link" href="#current-implementation-2">3.2.1. Current Implementation</a></h4>
<div class="paragraph">
<p>This feature is visible in the UI as a dropdown menu when the user enters input into the command box.</p>
</div>
<div class="sect4">
<h5 id="how-the-ui-works"><a class="link" href="#how-the-ui-works">How the UI works</a></h5>
<div class="paragraph">
<p>The command box uses a custom <code>AutoCompleteTextField</code> which extends from JavaFX&#8217;s <code>TextField</code>, which adds an additional listener for changes in the input text.
This listener reads the entire input text on each character change and performs comparisons with a predefined set of strings.
For all predefined strings that matches the input text, they are sorted according to their "closeness", and a maximum of 5 is displayed.</p>
</div>
</div>
<div class="sect4">
<h5 id="the-underlying-data-structures"><a class="link" href="#the-underlying-data-structures">The underlying data structures</a></h5>
<div class="paragraph">
<p>This feature was designed to display values that are currently in the <code>Model</code>.</p>
</div>
<div class="paragraph">
<p>For example, the input text <code>add-c n/</code> would display a list of <code>CustomerName</code> that already exists in the <code>Customer</code> <code>DataBook</code>.</p>
</div>
<div class="paragraph">
<p>In order to achieve this, the underlying data structure used is a directed <code>Graph</code> with every <code>Node</code> storing a reference to a set of values,
and a <code>Map&lt;String, Node&gt;</code> to represent outgoing edges. The keys of this map represent the possible prefixes for the next argument of the input text, such as <code>c/</code> or <code>e/</code>.</p>
</div>
</div>
<div class="sect4">
<h5 id="design-considerations"><a class="link" href="#design-considerations">Design Considerations</a></h5>
<div class="ulist">
<ul>
<li>
<p>Dynamically updated: By storing references to a set of values that can be backed by <code>ObservableList</code> in the <code>Model</code>, whenever the user alters any data, it will be reflected in the displayed values.</p>
</li>
<li>
<p>Supports optional arguments: By storing the possible prefixes as "edge weights", it is possible to represent an optional argument by having an edge to the <code>Node</code> containing its values, as well as an edge to the next <code>Node</code>.</p>
</li>
<li>
<p>Infinite structure: By having a <code>TagNode</code> store a reference to itself, it is possible to endlessly display <code>t/</code> as a possible argument at the end of the input text,
which is consistent with the unlimited number of <code>Tag</code> a <code>Customer</code> can hold.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="calendar-schedule-feature"><a class="link" href="#calendar-schedule-feature">3.3. Calendar / Schedule feature</a></h3>
<div class="sect3">
<h4 id="implementation-3"><a class="link" href="#implementation-3">3.3.1. Implementation</a></h4>
<div class="paragraph">
<p>We decided to incorporate a third party library, <em>JFXtras&#8217;s Agenda</em>, to represent our schedules on a calendar for easy viewing by our users.</p>
</div>
<div class="paragraph">
<p>Here is the class diagram for <code>CalendarPanel</code>:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/CalendarPanelClassDiagram.png" alt="CalendarPanelClassDiagram">
</div>
</div>
<div class="paragraph">
<p>On instantiation of <code>CalendarPanel</code>, all the schedules in scheduleList will be converted to <code>Appointments</code> and then added to <code>Agenda</code> via <code>populateAgenda()</code>.
To set the display information of the <code>Schedule</code> object, we will find its <code>Order</code> in the orderList and retrieve its index.</p>
</div>
<div class="paragraph">
<p>Schedule supports a few main commands:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Add&#8201;&#8212;&#8201;adds a new schedule into SML, command will be in this format: <code>add-s ORDER_INDEX cd/DATE ct/TIME v/VENUE [t/TAGS] [-allow]</code></p>
</li>
<li>
<p>Edit&#8201;&#8212;&#8201;edits an existing schedule in SML, command will be in this format: <code>edit-s ORDER_INDEX [cd/DATE] [ct/TIME] [v/VENUE] [t/TAGS] [-allow]</code></p>
</li>
<li>
<p>Delete&#8201;&#8212;&#8201;deletes an existing schedule in SML, command will be in this format: <code>delete-s ORDER_INDEX</code></p>
</li>
<li>
<p>Schedule&#8201;&#8212;&#8201;switches the view on the panel to the week containing the date entered, command will be in this format: <code>schedule cd/DATE</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The schedules and date in the calendar panel shows is automatically updated depending on the commands executed by the users.
For example:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>If the user adds/edits/deletes a schedule&#8201;&#8212;&#8201;calendar panel will display the week with the date of the schedule.</p>
</li>
<li>
<p>If the user uses the switch-s command&#8201;&#8212;&#8201;calendar panel will display the week with today&#8217;s date.</p>
</li>
<li>
<p>If the user uses the schedule command&#8201;&#8212;&#8201;calendar panel will display the week with the date requested by the user.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Changes to the schedules are made in the model by editing its own scheduleList.
<code>CalendarPanel</code> adds a listener to its <code>scheduleList</code> variable and listens to the changes and calls <code>populateAgenda()</code> to generate the updated list of <code>Schedules</code> into <code>Appointments</code> to add to <code>Agenda</code>.</p>
</div>
<div class="paragraph">
<p>The current date shown on the calendar panel is encapsulated in a <code>CalendarDate</code> object.
The <code>CalendarDate</code> class uses <code>SimpleObjectProperty</code> to keep track of the Calendar (date).</p>
</div>
<div class="paragraph">
<p>When any of the schedule commands are executed, model will edit the <code>CalendarDate</code> object with the updated Calendar (date).
<code>CalendarPanel</code> adds a listener to its <code>CalendarDate</code> variable and listens to the changes and calls <code>setAgendaView()</code> to set the new <code>Calendar</code> in <code>CalendarDate</code> accordingly.</p>
</div>
<div class="paragraph">
<p>Here is a sample of what happens when a user adds a schedule (AddScheduleCommand):</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/ScheduleCommandSequenceDiagram.png" alt="ScheduleCommandSequenceDiagram">
</div>
</div>
<div class="paragraph">
<p>Basically, after the <code>setCalendarDate()</code> method in <code>Model</code> is executed, <code>CalendarPanel</code> listens to it and make the necessary changes to the agenda view by calling its <code>setAgendaView()</code> method.</p>
</div>
<div class="sect4">
<h5 id="design-considerations-alternative-designs-considered-2"><a class="link" href="#design-considerations-alternative-designs-considered-2">Design Considerations / Alternative designs considered</a></h5>
<div class="ulist">
<ul>
<li>
<p>Whether schedules should be kept as <code>Appointment</code> objects instead of <code>Schedule</code> objects.</p>
<div class="ulist">
<ul>
<li>
<p>We felt that the existence of our own <code>Schedule</code> object ensures that we can design it the way we want.</p>
</li>
<li>
<p>We decided to not keep a list of <code>Appointment</code> in <code>CalendarPanel</code> as <code>Appointment</code> is only used for <code>Agenda</code> while the rest of our code uses <code>Schedule</code>.</p>
</li>
<li>
<p>Instead, we have decided to only convert <code>Schedule</code> into <code>Appointment</code> when needed - during the creation of <code>CalendarPanel</code> or when there are changes made to the <code>UniqueList&lt;Schedule&gt;</code> variable.
Not keeping a list of <code>Appointment</code> ensures that we do not keep duplicate information.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Where to store and change the date shown on Calendar Panel.</p>
<div class="ulist">
<ul>
<li>
<p>The changes to <code>CalendarDate</code> was initially done in the <code>CalendarPanel</code> itself.
So, <code>CommandResult</code> was made to have one more variable <code>Optional&lt;Calendar&gt;</code>.
In that case, every time a schedule command was executed, a specific <code>Calendar</code> (if any) will be placed inside the constructor while creating the <code>CommandResult</code> object.
Else, Optional.Empty() will be placed inside.</p>
</li>
<li>
<p>When the <code>MainWindow</code> executes the method performUiChanges(CommandResult), it will call the handleSchedule method with <code>Calendar</code> (from CommandResult) as an argument.
If <code>Optional&lt;Calendar&gt;</code> in <code>CommandResult</code> is empty, today&#8217;s date and time will be used instead.
Then, <code>CalendarPanel</code> will be called in handleSchedule() to set the agenda view.</p>
</li>
<li>
<p>This implementation was however changed because we thought that the date shown on the panel should be updated automatically.
Hence, we decided to use a listener instead.
<code>CalendarDate</code> is then placed in <code>Model</code> so that it can be edited immediately when <code>Model</code> executes any schedule related commands.
Also, this ensures that <code>CommandResult</code> remains unchanged and kept as simple as possible.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="find-customer-phone-order-feature"><a class="link" href="#find-customer-phone-order-feature">3.4. Find Customer/Phone/Order feature</a></h3>
<div class="paragraph">
<p>The find feature allows the user to find the customer/phone/order with matching keywords.
We wanted to implement an AND search and so long as the customer/phone/order contained the keyword
in its data, it would be shown to the user.
For simplicity&#8217;s sake, we will only focus on Customer in this section.</p>
</div>
<div class="paragraph">
<p>The command that we wanted to implement is:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>e.g. <code>find-c Alice</code>&#8201;&#8212;&#8201;would allow the user to find the customer with any data field that matches "Alice".</p>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="current-implementation-3"><a class="link" href="#current-implementation-3">3.4.1. Current Implementation</a></h4>
<div class="paragraph">
<p>In order to implement this feature, we decided to introduce a new predicate, <code>CustomerContainsKeywordsPredicate</code>.
Similar to AddressBook3&#8217;s <code>NameContainsKeywordsPredicate</code>, the customer predicate tests that all keyword matches at least 1 data field of Customer.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/dg-diagram/CustomerPredicateClassDiagram.png" alt="CustomerPredicateClassDiagram">
</div>
</div>
<div class="paragraph">
<p>Below is a diagram to show you how <code>find-c Alice</code> runs in the program.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/dg-diagram/FindCustomerCommandSequenceDiagram1.png" alt="FindCustomerCommandSequenceDiagram1">
</div>
</div>
</div>
<div class="sect3">
<h4 id="design-considerations-alternative-designs-considered-3"><a class="link" href="#design-considerations-alternative-designs-considered-3">3.4.2. Design Considerations / Alternative designs considered</a></h4>
<div class="paragraph">
<p>Alternative 2: The other alternative that we considered in implementing the find feature was allowing the user to specify which field to check for.
First, we create a <code>FindCustomerDescriptor</code> that would store all the strings that were to be searched under the various data fields.
e.g. The <code>a/</code> prefix would mean to search for all the data fields of Customer. The <code>n/</code> prefix would mean to search for the name of Customers only.
The <code>FindCustomerCommandParser</code> would store the relevant key-phrases in the FindCustomerDescriptor and generate a different predicate,
<code>CustomerContainsKeyPhrasesPredicate</code>, using the FindCustomerDescriptor and pass it to <code>FindCustomerCommand</code>. <code>FindCustomerCommand</code> would then be executed.</p>
</div>
<div class="paragraph">
<p>However, the predicate <code>CustomerContainsKeyPhrasesPredicate</code> would do the heavy lifting by doing further parsing of the keywords
and test whether Customer contains the relevant keywords.</p>
</div>
<div class="paragraph">
<p>We did not implement this as <code>CustomerContainsKeyPhrasesPredicate</code> violated the Single-Responsibility Principle.
It had to do further parsing of the keywords instead of simply testing whether the Customer contains the keywords.
Also, if there was a change to the <code>Customer</code> class, it would be less intuitive to modify <code>CustomerContainsKeywordsPredicate</code>
as one would need to understand the parsing.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 1 (current choice):</strong> <code>CustomerContainsKeywordsPredicate</code></p>
<div class="ulist">
<ul>
<li>
<p>Pros: Easy to implement.</p>
</li>
<li>
<p>Cons: Cannot search based on the exact data field.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 2:</strong> <code>CustomerContainsKeyPhrasesPredicate</code></p>
<div class="ulist">
<ul>
<li>
<p>Pros: Less code written in total.</p>
</li>
<li>
<p>Cons: Harder to maintain.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="export-feature"><a class="link" href="#export-feature">3.5. Export feature</a></h3>
<div class="sect3">
<h4 id="implementation-4"><a class="link" href="#implementation-4">3.5.1. Implementation</a></h4>
<div class="paragraph">
<p>The export mechanism is allows user to export current saved Json files into csv files available for import into MSExcel.
We made use of <code>FileReader</code> to read the Json saved data files. The data is used to create <code>JsonObjects</code> and stored into <code>JsonArray</code> and then CSV formatted string using comma delimiters.</p>
</div>
<div class="paragraph">
<p>Additionally, it implements the following operations:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>ExportCommand#getCSVString()</code>&#8201;&#8212;&#8201;Returns CSV formatted string containing the customer data, phone data, order data and schedule data.</p>
</li>
</ul>
</div>
<div class="sect4">
<h5 id="how-it-works"><a class="link" href="#how-it-works">How it works.</a></h5>
<div class="paragraph">
<p>Given below is an example usage scenario and how the export mechanism behaves at each step.</p>
</div>
<div class="paragraph">
<p>The user executes <code>export filename</code> command to export current data into a CSV file.
<code>UserPrefs</code> is created and used to get the file path of the data files (i.e. customerbook.json).
The method getCSVString is executed to create <code>FileReader</code> and <code>BufferedReader</code> to read the data files from each of the path.
The string is then used to create <code>JsonObject</code> and then converted to CSV formatted string data representation.
At the end, the strings are appended to get the full CSV file containing the various data.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="design-considerations-2"><a class="link" href="#design-considerations-2">3.5.2. Design Considerations</a></h4>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 1 (current choice):</strong> Converting Json formatted string into CSV formatted string.</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Easy to implement.</p>
</li>
<li>
<p>Cons: Customisation to design CSV layout requires re-formatting of the string.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 2:</strong> Creating CSV formatted string straight from the Model.</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Easier to implement on the fly the decided layout of created CSV file.</p>
</li>
<li>
<p>Cons: Harder to maintain. Had to code for the various cases in different data.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="undo-redo-feature"><a class="link" href="#undo-redo-feature">3.6. Undo/Redo feature</a></h3>
<div class="sect3">
<h4 id="current-implementation-4"><a class="link" href="#current-implementation-4">3.6.1. Current Implementation</a></h4>
<div class="paragraph">
<p>The undo/redo mechanism is facilitated by <code>UndoRedoStack</code>.</p>
</div>
<div class="paragraph">
<p><code>UndoRedoStack</code> contains 2 stacks, <code>undoStack</code> and <code>redoStack</code>.
<code>undoStack</code> and <code>redoStack</code> contains commands that are of type <code>UndoableCommand</code>.
<code>UndoableCommand</code> extends Command and has the following attributes and methods.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/dg-diagram/UndoableCommandClassDiagram.png" alt="UndoableCommandClassDiagram" width="300">
</div>
</div>
<div class="paragraph">
<p>When an UndoableCommand is being executed, the methods <code>saveCustomerBookSnapshot(Model model)</code>, <code>savePhoneBookSnapshot(Model model)</code>, <code>saveOrderBookSnapshot(Model model)</code>, <code>saveScheduleBookSnapshot(Model model)</code>
and <code>saveArchivedOrderBookSnapshot(Model model)</code> will be called. This ensures that the states of all 5 books are being stored.</p>
</div>
<div class="paragraph">
<p>After a command is executed, <code>LogicManager</code> will add it into the <code>UndoRedoStack</code>.
This will be explained in the activity diagram below.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/dg-diagram/UndoRedoStackPushActivityDiagram.png" alt="UndoRedoStackPushActivityDiagram" width="600">
</div>
</div>
<div class="paragraph">
<p>Next, when <code>UndoCommand</code> is being performed, <code>UndoStack</code> will remove the first command in its stack and add it to <code>RedoStack</code>.
It will then call <code>UndoableCommand#undo()</code> of the command that is removed.
The <code>undo()</code> method will then set the model to the previous snapshots of CustomerBook, PhoneBook, OrderBook, ScheduleBook and ArchivedOrderBook.
Afterwhich, it will save the original state of the model (e.g. before Undo took place) by calling <code>UndoableCommand#save(Model model)</code>.</p>
</div>
<div class="paragraph">
<p>Likewise, when <code>RedoCommand</code> is being performed, <code>RedoStack</code> will remove the first command in its stack and add it to <code>UndoStack</code>.
It will then call <code>UndoableCommand#redo()</code> of the command that is removed.
The <code>redo()</code> method will then set the model to the previous snapshots of CustomerBook, PhoneBook, OrderBook, ScheduleBook and ArchivedOrderBook.</p>
</div>
<div class="paragraph">
<p>Given below is an example usage scenario and how the undo/redo mechanism behaves at each step.</p>
</div>
<div class="paragraph">
<p>Step 1. The user launches the application for the first time. The <code>UndoRedoStack</code> will be initialized.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/dg-diagram/UndoRedoStackObjectDiagram0.png" alt="[width=&quot;450&quot;">
</div>
</div>
<div class="paragraph">
<p>Step 2. The user executes <code>delete-c 5</code> command to delete the 5th customer. The <code>delete-c 5</code> command will be pushed into the <code>UndoRedoStack</code>.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/dg-diagram/UndoRedoStackObjectDiagram1.png" alt="[width=&quot;450&quot;">
</div>
</div>
<div class="paragraph">
<p>Step 3. The user executes <code>add-c n/David &#8230;&#8203;</code> to add a new customer. The <code>add-c</code> command will save all states of CustomerBook, PhoneBook, OrderBook, ScheduleBook and ArchivedOrderBook.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/dg-diagram/UndoRedoStackObjectDiagram2.png" alt="[width=&quot;450&quot;">
</div>
</div>
<div class="paragraph">
<p>Step 4. The user now decides that adding the customer was a mistake, and decides to undo that action by executing the <code>undo</code> command.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/dg-diagram/UndoRedoStackObjectDiagram3.png" alt="[width=&quot;450&quot;">
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
UndoCommand will check whether if there is any command to be undone by calling the <code>UndoRedoStack#canUndo()</code> method.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The following sequence diagram shows how the undo operation works:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/dg-diagram/UndoSequenceDiagram.png" alt="[width=&quot;450&quot;">
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The lifeline for <code>UndoCommand</code> should end at the destroy marker (X) but due to a limitation of PlantUML, the lifeline reaches the end of diagram.
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
XYZ here refers to Customer, Phone, Order, Schedule and ArchivedOrder.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The <code>redo</code> command does the opposite&#8201;&#8212;&#8201;it calls <code>UndoableCommand#redo()</code>.</p>
</div>
<div class="paragraph">
<p>Step 5. The user then decides to execute the command <code>list-c</code>. Commands that do not modify the 5 books (Customer, Phone, Order, Schedule and Archived Order), such as <code>list-c</code>, do not extend UndoableCommand.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/dg-diagram/UndoRedoStackObjectDiagram4.png" alt="[width=&quot;450&quot;">
</div>
</div>
<div class="paragraph">
<p>Step 6. The user executes <code>clear-c</code>.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/dg-diagram/UndoRedoStackObjectDiagram5.png" alt="[width=&quot;450&quot;">
</div>
</div>
</div>
<div class="sect3">
<h4 id="design-considerations-3"><a class="link" href="#design-considerations-3">3.6.2. Design Considerations</a></h4>
<div class="sect4">
<h5 id="aspect-how-undo-redo-executes"><a class="link" href="#aspect-how-undo-redo-executes">Aspect: How undo &amp; redo executes</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 1 (current choice):</strong> Saves the entire mdodel.</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Easy to implement.</p>
</li>
<li>
<p>Cons: May have performance issues in terms of memory usage.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 2:</strong> Individual command knows how to undo/redo by itself.</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Will use less memory (e.g. for <code>delete-c</code>, just save the customer being deleted).</p>
</li>
<li>
<p>Cons: We must ensure that the implementation of each individual command are correct.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="aspect-data-structure-to-support-the-undo-redo-commands"><a class="link" href="#aspect-data-structure-to-support-the-undo-redo-commands">Aspect: Data structure to support the undo/redo commands</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 1 (current choice):</strong> Use 2 stacks to store the history of the Models.</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Easy to implement.</p>
</li>
<li>
<p>Cons: Logic is duplicated twice. For example, when a command is undone, we must remember to save the previous model state to the command.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 2:</strong> Use <code>HistoryManager</code> for undo/redo</p>
<div class="ulist">
<ul>
<li>
<p>Pros: We do not need to maintain a separate list, and just reuse what is already in the codebase.</p>
</li>
<li>
<p>Cons: Requires dealing with commands that have already been undone: We must remember to skip these commands. Violates Single Responsibility Principle and Separation of Concerns as <code>HistoryManager</code> now needs to do two different things.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="proposed-data-encryption"><a class="link" href="#proposed-data-encryption">3.7. [Proposed] Data Encryption</a></h3>
<div class="paragraph">
<p><em>{Explain here how the data encryption feature will be implemented}</em></p>
</div>
</div>
<div class="sect2">
<h3 id="logging"><a class="link" href="#logging">3.8. Logging</a></h3>
<div class="paragraph">
<p>We are using <code>java.util.logging</code> package for logging. The <code>LogsCenter</code> class is used to manage the logging levels and logging destinations.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The logging level can be controlled using the <code>logLevel</code> setting in the configuration file (See <a href="#Implementation-Configuration">Section 3.9, &#8220;Configuration&#8221;</a>)</p>
</li>
<li>
<p>The <code>Logger</code> for a class can be obtained using <code>LogsCenter.getLogger(Class)</code> which will log messages according to the specified logging level</p>
</li>
<li>
<p>Currently log messages are output through: <code>Console</code> and to a <code>.log</code> file.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Logging Levels</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>SEVERE</code> : Critical problem detected which may possibly cause the termination of the application</p>
</li>
<li>
<p><code>WARNING</code> : Can continue, but with caution</p>
</li>
<li>
<p><code>INFO</code> : Information showing the noteworthy actions by the App</p>
</li>
<li>
<p><code>FINE</code> : Details that is not usually noteworthy but may be useful in debugging e.g. print the actual list instead of just its size</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="Implementation-Configuration"><a class="link" href="#Implementation-Configuration">3.9. Configuration</a></h3>
<div class="paragraph">
<p>Certain properties of the application can be controlled (e.g user prefs file location, logging level) through the configuration file (default: <code>config.json</code>).</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="documentation"><a class="link" href="#documentation">4. Documentation</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Refer to the guide <a href="Documentation.html">here</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="testing"><a class="link" href="#testing">5. Testing</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Refer to the guide <a href="Testing.html">here</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="dev-ops"><a class="link" href="#dev-ops">6. Dev Ops</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Refer to the guide <a href="DevOps.html">here</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="product-scope"><a class="link" href="#product-scope">Appendix A: Product Scope</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>Target user profile</strong>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>has a need to manage a significant number of phones, orders and customers.</p>
</li>
<li>
<p>prefer desktop apps over other types</p>
</li>
<li>
<p>is a one-man/two-man handphone re-seller who has multiple phones to sell.</p>
</li>
<li>
<p>likes single view application.</p>
</li>
<li>
<p>can type fast</p>
</li>
<li>
<p>prefers typing over mouse input</p>
</li>
<li>
<p>is reasonably comfortable using CLI apps</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Value proposition</strong>: Keep track of your phone, orders, schedules and customers faster than a typical mouse/GUI driven application.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="user-stories"><a class="link" href="#user-stories">Appendix B: User Stories</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Priorities: High (must have) - <code>* * *</code>, Medium (nice to have) - <code>* *</code>, Low (unlikely to have) - <code>*</code></p>
</div>
<table class="tableblock frame-all grid-all" style="width: 59%;">
<colgroup>
<col style="width: 22%;">
<col style="width: 23%;">
<col style="width: 25%;">
<col style="width: 30%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Priority</th>
<th class="tableblock halign-left valign-top">As a &#8230;&#8203;</th>
<th class="tableblock halign-left valign-top">I want to &#8230;&#8203;</th>
<th class="tableblock halign-left valign-top">So that I can&#8230;&#8203;</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">new user</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">see usage instructions</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">refer to instructions when I forget how to use the App</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">handphone seller</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">schedule my orders</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">deconflict and view the schedule of my sales meetings.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">handphone seller</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">generate an invoice</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">give my customers the invoice.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">handphone seller</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">sort my sales statistics</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">find out which products are selling well.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">handphone seller</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">generate sales report</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">track my revenues, profits and costs.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">handphone seller</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">find my handphone model easily</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">not waste time searching for the handphone.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">handphone seller</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">record and track the quantity of my phones</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">decide when to get more phones.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">handphone seller</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">copy the email address/handphone number of my customer easily</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">email them/text them easily.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">handphone seller</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">use a price optimization algorithm</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">easily price my products.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">handphone seller</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">find out the market price of the phones</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">decide what price to set for my phones.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">handphone seller</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">generate a visualisation of my meeting schedule</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">have a better idea of my schedule</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">handphone seller</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">use an auto-generated mailing list</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">keep track of the mails that I have to send out.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>*</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">handphone seller</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">organise my replies in terms of hot, medium, cold</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">find out how to best reply to a certain type of customer.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>*</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">handphone seller</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">use the trust meter system</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">remember which buyers cheated me before.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">handphone seller</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">check notification dialog</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">see upcoming deadlines</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>*</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">handphone seller</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">add images to my handphone</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">better visualise my products.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>*</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">handphone seller</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">integrate the app with an e-commerce platform</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">automatically update my order in my app and on the platform.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>*</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">handphone seller</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">view customer profile</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">see the number of transactions and the types of goods they bought.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">handphone seller</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">undo and redo</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">correct my mistakes.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">handphone seller</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">import my sales data from csv file</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">save the trouble of manual importing.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">handphone seller</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">add, edit and delete the phones that I have</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">update when there is a need to.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">handphone seller</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">create a new order</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">schedule the order.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">handphone seller</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">cancel order</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">reflect the changes made by customer.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">handphone seller</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">sort statistics by brand</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">find out which brand is the most popular.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">handphone seller</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">generate statistics for total sales or total profit per month</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">find out how much I earn.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">handphone seller</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">find the details of the order that I want easily</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">save time searching for an order.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">handphone seller</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">delete a phone that I am no longer selling</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">get rid of it on the database.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>*</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">handphone seller</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">track my customer age</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">know the suitability of my product.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>*</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">handphone seller</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">use an in-built messenger to communicate with my customer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">talk to them without switching to another application.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><em>{More to be added}</em></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="use-cases"><a class="link" href="#use-cases">Appendix C: Use Cases</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>(For all use cases below, the <strong>System</strong> is the <code>SML</code> and the <strong>Actor</strong> is the <code>user</code>, unless specified otherwise)</p>
</div>
<h3 id="use-case-delete-customer-uc01" class="discrete">Use case: Delete customer (UC01)</h3>
<div class="paragraph">
<p><strong>MSS</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>User requests to list customer</p>
</li>
<li>
<p>SML shows a list of customers</p>
</li>
<li>
<p>User requests to delete a specific customer in the list</p>
</li>
<li>
<p>SML deletes the customer</p>
<div class="paragraph">
<p>Use case ends.</p>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Extensions</strong></p>
</div>
<div class="ulist none">
<ul class="none">
<li>
<p>2a. The list is empty.</p>
<div class="paragraph">
<p>Use case ends.</p>
</div>
</li>
<li>
<p>3a. The given index is invalid.</p>
<div class="ulist none">
<ul class="none">
<li>
<p>3a1. SML shows an error message.</p>
<div class="paragraph">
<p>Use case resumes at step 2.</p>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
<h3 id="use-case-add-new-phone-uc02" class="discrete">Use case: Add new phone (UC02)</h3>
<div class="paragraph">
<p><strong>MSS</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Actor input phone name and other phone attributes.</p>
</li>
<li>
<p>SML adds phone to the list of phones.</p>
</li>
<li>
<p>SML shows the new list of phones.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Extensions</strong></p>
</div>
<div class="ulist none">
<ul class="none">
<li>
<p>1a. Actor inputs wrong date format.</p>
<div class="paragraph">
<p>Use case ends.</p>
</div>
<div class="ulist none">
<ul class="none">
<li>
<p>1a1. SML requests for correct data.</p>
<div class="paragraph">
<p>Use case resumes at step 1.</p>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
<h3 id="use-case-confirm-order-uc03" class="discrete">Use case: Confirm order (UC03)</h3>
<div class="paragraph">
<p><strong>MSS</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Actor add order to the system. SML displays the new order list.</p>
</li>
<li>
<p>Actor schedule order. (UC04)</p>
</li>
<li>
<p>Actor mark order as completed. SML displays completed order message.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Extensions</strong></p>
</div>
<div class="ulist none">
<ul class="none">
<li>
<p>2a. SML is unable to add as command is missing fields.</p>
<div class="paragraph">
<p>Use case ends.</p>
</div>
<div class="ulist none">
<ul class="none">
<li>
<p>2a1. SML shows error message that command is missing fields.</p>
<div class="paragraph">
<p>Use case resumes at step 2.</p>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
<h3 id="use-case-actor-schedule-order-uc04" class="discrete">Use case: Actor schedule order (UC04)</h3>
<div class="paragraph">
<p><strong>MSS</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Actor adds a schedule to an order.</p>
</li>
<li>
<p>SML check for conflict in timings.</p>
</li>
<li>
<p>SML displays the scheduled order.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Extensions</strong></p>
</div>
<div class="ulist none">
<ul class="none">
<li>
<p>2a. SML finds out that there is a conflict in timing for 2 or more orders.</p>
<div class="paragraph">
<p>Use case ends.</p>
</div>
<div class="ulist none">
<ul class="none">
<li>
<p>2a1. SML displays the 2 or more orders that have the same schedule timing.</p>
<div class="paragraph">
<p>Use case resumes at step 2.</p>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
<h3 id="use-case-actor-export-data-to-csv-file-uc05" class="discrete">Use case: Actor export data to csv file (UC05)</h3>
<div class="paragraph">
<p><strong>MSS</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Actor requests to export data to csv file.</p>
</li>
<li>
<p>SML loads system data into the file.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Extensions</strong></p>
</div>
<div class="ulist none">
<ul class="none">
<li>
<p>1a. Input file name does not follow constraints.</p>
<div class="paragraph">
<p>Use case ends.</p>
</div>
<div class="ulist none">
<ul class="none">
<li>
<p>1a1. SML displays error message and does not create the file.</p>
<div class="paragraph">
<p>Use case resumes at step 1.</p>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="non-functional-requirements"><a class="link" href="#non-functional-requirements">Appendix D: Non Functional Requirements</a></h2>
<div class="sectionbody">
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Should work on any <a href="#mainstream-os">mainstream OS</a> as long as it has Java <code>11</code> or above installed.</p>
</li>
<li>
<p>Should be able to hold up to 1000 customers/phones/orders without a noticeable sluggishness in performance for typical usage.</p>
</li>
<li>
<p>A user with above average typing speed for regular English text (i.e. not code, not system admin commands) should be able to accomplish most of the tasks faster using commands than using the mouse.</p>
</li>
<li>
<p>Single User for each session</p>
</li>
<li>
<p>No internet required</p>
</li>
<li>
<p>Quality and helpful information/feedback upon user action</p>
</li>
<li>
<p>System should ideally respond within 5 seconds</p>
</li>
<li>
<p>System allows for wrong input from user and recovers from erroneous input</p>
</li>
<li>
<p>App can be downloaded and run via a jar file</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>_ {More to be added}_</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="glossary"><a class="link" href="#glossary">Appendix E: Glossary</a></h2>
<div class="sectionbody">
<div class="dlist">
<dl>
<dt class="hdlist1"><a id="mainstream-os"></a> Mainstream OS</dt>
<dd>
<p>Windows, Linux, Unix, OS-X</p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>SML</strong><br>
Initialism for our application, Seller Manager Lite.</p>
</li>
<li>
<p><strong>Customer</strong><br>
A person who buys from the seller.</p>
</li>
<li>
<p><strong>Phone</strong><br>
Multi-purpose mobile computing device. Also known as smartphones.</p>
</li>
<li>
<p><strong>Order</strong><br>
A request for goods.</p>
</li>
<li>
<p><strong>Schedule</strong><br>
A meetup with buyer to pass the goods. There can only be 1 schedule associated with an order at any one time.</p>
</li>
</ol>
</div>
</dd>
</dl>
</div>
<div class="sect2">
<h3 id="sml-specific-terms"><a class="link" href="#sml-specific-terms">E.1. SML-specific Terms</a></h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>Command</strong><br>
An instruction that will produce an output once entered in SML.</p>
</li>
<li>
<p><strong>CustomerBook</strong><br>
A CustomerBook is a list that stores Customer(s) that has been added into SML.
Each customer entry comprises of CustomerName, ContactNumber and Email fields and others.</p>
</li>
<li>
<p><strong>PhoneBook</strong><br>
A PhoneBook is a list that stores Phone(s) that has been added in SML.
Each phone entry comprises of IdentityNumber, SerialNumber, Brand, PhoneName, Colour, Cost and Capacity.</p>
</li>
<li>
<p><strong>OrderBook</strong><br>
A OrderBook is a list that stores Order(s) that has been added in SML.
Each order entry comprises of a customer, a phone, OrderID, Price and OrderStatus.</p>
</li>
<li>
<p><strong>ScheduleBook</strong><br>
A ScheduleBook is a list that stores Schedules(s) that has been added in SML.
Each schedule entry comprises a Venue and Calendar with date and time.</p>
</li>
<li>
<p><strong>Archived</strong><br>
Archived is a list that stores Completed or Cancelled orders ONLY.</p>
</li>
<li>
<p><strong>TabPanel</strong><br>
A view that is similar to web browser Tabs.</p>
</li>
<li>
<p><strong>Add</strong><br>
The action of putting an entry into CustomerBook, PhoneBook, OrderBook or ScheduleBook.</p>
</li>
<li>
<p><strong>Edit</strong><br>
If you want to make changes to any entry, you can do so with this command.</p>
</li>
<li>
<p><strong>Delete</strong><br>
Remove an entry from CustomerBook, PhoneBook or ScheduleBook.</p>
</li>
<li>
<p><strong>Find</strong><br>
The action of searching for customers, phones or orders that contains the keywords that you specify.</p>
</li>
<li>
<p><strong>Switch</strong><br>
Change the Tab Panel to Customer, Phone, Order, Schedule or Archived.</p>
</li>
<li>
<p><strong>Undo</strong><br>
If you&#8217;ve made a mistake, you can simply revert to the previous command.</p>
</li>
<li>
<p><strong>Redo</strong><br>
Inverse of undo.</p>
</li>
<li>
<p><strong>Copy</strong><br>
Action of copying an entry into clipboard.</p>
</li>
</ol>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="product-survey"><a class="link" href="#product-survey">Appendix F: Product Survey</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>Product Name</strong></p>
</div>
<div class="paragraph">
<p>Author: &#8230;&#8203;</p>
</div>
<div class="paragraph">
<p>Pros:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>&#8230;&#8203;</p>
</li>
<li>
<p>&#8230;&#8203;</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Cons:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>&#8230;&#8203;</p>
</li>
<li>
<p>&#8230;&#8203;</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="instructions-for-manual-testing"><a class="link" href="#instructions-for-manual-testing">Appendix G: Instructions for Manual Testing</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Given below are instructions to test the app manually.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
These instructions only provide a starting point for testers to work on; testers are expected to do more <em>exploratory</em> testing.
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="launch-and-shutdown"><a class="link" href="#launch-and-shutdown">G.1. Launch and Shutdown</a></h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Initial launch</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Download the jar file and copy into an empty folder</p>
</li>
<li>
<p>Open your command line prompt / terminal, navigate and input <code>java -jar [filename]</code> to run the file<br>
Expected: Shows the GUI with a set of sample data. The window size may not be optimum.</p>
</li>
</ol>
</div>
</li>
<li>
<p>Saving window preferences</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Resize the window to an optimum size. Move the window to a different location. Close the window.</p>
</li>
<li>
<p>Re-launch the app the same way you launched the application previously.<br>
Expected: The most recent window size and location is retained.</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="adding-a-phone"><a class="link" href="#adding-a-phone">G.2. Adding a phone</a></h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Adding a phone while all phones are listed</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Test case: <code>add-p i/543407158585522 s/A123bcfe29 n/iPhone 11 b/Apple cp/128 cl/Purple $/$900 t/NEW t/Cool</code><br>
Expected: Phone with the above details is added the list. Details of the phone shown in the status message.</p>
</li>
<li>
<p>Test case: <code>add-p i/543407158585522 s/A123bcfe29 n/iPhone 11 b/Apple cp/128 cl/Purple t/NEW t/Cool</code><br>
Expected: No phone is added. Error details shown in the status message. Missing fields.</p>
</li>
<li>
<p>Other incorrect add commands to try: <code>add-c n/Steve Jobs c/12345678</code>, where the email field is missing.<br>
Expected: Similar to previous.</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="deleting-a-customer"><a class="link" href="#deleting-a-customer">G.3. Deleting a customer</a></h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Deleting a customer while all customers are listed</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Prerequisites: List all customers using the <code>list-c</code> command. Multiple customers in the list.</p>
</li>
<li>
<p>Test case: <code>delete-c 1</code><br>
Expected: First customer is deleted from the list. Details of the deleted customer shown in the status message.</p>
</li>
<li>
<p>Test case: <code>delete-c 0</code><br>
Expected: No customer is deleted. Error details shown in the status message. Status bar remains the same.</p>
</li>
<li>
<p>Other incorrect delete commands to try: <code>delete-p</code>, <code>delete-p x</code> (where x is larger than the list size)<br>
Expected: Similar to previous.</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="editing-an-order"><a class="link" href="#editing-an-order">G.4. Editing an order</a></h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Edit an order while all orders are listed.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Prerequisites: List all customers using the <code>list-o</code> command. There must be at least 1 order in the list.</p>
</li>
<li>
<p>Test case: <code>edit-o 1 $/$1000</code><br>
Expected: Price of the first order is edited. Details of the edited order is shown in the status message.</p>
</li>
<li>
<p>Test case: <code>edit-o 1</code><br>
Expected: Nothing is edited. Error details shown in the status message. No fields to be edited.</p>
</li>
<li>
<p>Other incorrect edit commands to try: <code>edit-c 1 c/abc</code>, c/ is the prefix for contact number but alphabets are entered instead<br>
Expected: Error message shown due to erroneous input.</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="saving-data"><a class="link" href="#saving-data">G.5. Saving data</a></h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Data is automatically saved after every command.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>When the application is relaunched, it will check for the validity of the data.
Any corrupted data in any of the data files (customer, phone, order, schedule, archived order) will cause SML to start with an empty data book for that particular corrupted type of data.</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
</div>
</div>
</div></div><div id="footer"><div class="container"><div id="footer-text">Last updated 2019-11-11 05:43:51 UTC</div></div></div></body></html>