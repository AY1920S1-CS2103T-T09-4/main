<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]--><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="Asciidoctor 1.5.6.1"><title>Eugene Teu Chu Wei - Project Portfolio</title><link rel="stylesheet" href="../stylesheets/gh-pages.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.5.0/css/font-awesome.min.css">
<link rel="stylesheet" href="../stylesheets/coderay-asciidoctor.css"></head><body class="article"><div id="site-header"><nav class="navbar navbar-light bg-light"><div class="container"><a class="navbar-brand" href="../index.html">Seller Manager Lite</a><ul class="navbar-nav"><li class="nav-item"><a class="nav-link" href="../UserGuide.html">User Guide</a></li><li class="nav-item"><a class="nav-link" href="../DeveloperGuide.html">Developer Guide</a></li><li class="nav-item"><a class="nav-link" href="../LearningOutcomes.html">LOs</a></li><li class="nav-item"><a class="nav-link active" href="../AboutUs.html">About Us</a></li><li class="nav-item"><a class="nav-link" href="../ContactUs.html">Contact Us</a></li><li class="navitem"><a class="nav-link" href="https://github.com/AY1920S1-CS2103T-T09-4/main"><span class="fa fa-github fa-lg" aria-hidden="true"></span>&nbsp;View on GitHub</a></li></ul></div></nav></div><div id="header"><h1>Eugene Teu Chu Wei - Project Portfolio</h1></div><div id="content"><div class="sect1">
<h2 id="project-seller-manager-lite-junior"><a class="link" href="#project-seller-manager-lite-junior">PROJECT: Seller Manager Lite Junior</a></h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="overview"><a class="link" href="#overview">Overview</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Seller Manager Lite is a desktop application used for managing a business operational and logistical needs.
The user interacts with it using a CLI, and it has a GUI created with JavaFX. It is written in Java, and has &gt;10 kLoC.
It was written over the span of 2 months and morphed from the original Address-book 3 application.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="summary-of-contributions"><a class="link" href="#summary-of-contributions">Summary of contributions</a></h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><strong>Major enhancement</strong>: added <strong>ability to generate statistics</strong></p>
<div class="ulist">
<ul>
<li>
<p>What it does: allows the user to query total <code>Revenue</code>, <code>Cost</code> and <code>profit</code> on all past orders. Contains 2 types of input mode:</p>
<div class="ulist">
<ul>
<li>
<p>No date input: This mode is to give users a quick way of obtaining the numbers</p>
</li>
<li>
<p>Date input: This mode is to produce a monthly chart view of the statistics</p>
</li>
</ul>
</div>
</li>
<li>
<p>Justification: Being business owners, this feature should be very essential for the owners to be able to track their statistics and numbers while running their day to day operations. This allows them to more easily plan and monitor their business while using these numbers.
By having this feature,  the users of this app can review their performance of their products over the past few months, which is essential to business owners.</p>
</li>
<li>
<p>Highlights: This feature cut across several layers in the entire project e.g logic, UI, model and hence designing it in such a way that it was able to work with the existing Model View Controller architecture was a very important albeit tedious step.
It required an in-depth analysis of design alternatives. This design choice is elaborated below in the developer guide writeup.</p>
<div class="ulist">
<ul>
<li>
<p>The implementation was also challenging as I made very sure no to violate any of the SOLID principles.
At the same time, we were also still deciding how to implement the rest of the architecture for the other features.
There was a very strong and conscientious effort to make the code easily extendable as there is a high possibility that this feature will have to scale exponentially.</p>
</li>
<li>
<p>A total of 4 attempts of refactoring was needed for me to reach the current version of the main feature.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Credits: The <a href="https://commons.apache.org/proper/commons-math/">apache commons math libraries</a> was used in the actual calculation. The main difficulty of this feature  come from extracting the correct and appropiate data needed and in the appropiate manner.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Other Major enhancement</strong>:</p>
<div class="ulist">
<ul>
<li>
<p>My other contributions to the codebase is as follows:</p>
<div class="ulist">
<ul>
<li>
<p>Complete overhaul of User Interface. This includes generating the FXML files, creating the controller files, importing and GUI tests.</p>
</li>
<li>
<p>UI commands. This includes the command that is directly related to switching of UI e.g <code>switch-o</code> which allows the user to switch their their focused tab panel with a command.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Other contributions</strong>:</p>
<div class="ulist">
<ul>
<li>
<p>Project management:</p>
<div class="ulist">
<ul>
<li>
<p>Managed releases <code>v1.35</code> (1 release) on GitHub</p>
</li>
<li>
<p><strong>DevOps and Tools</strong></p>
<div class="ulist">
<ul>
<li>
<p>Set up organization and team repo</p>
</li>
<li>
<p>Managed Milestones deliverables: <a href="https://github.com/AY1920S1-CS2103T-T09-4/main/pull/175">#175</a></p>
</li>
<li>
<p>Integrated a third party library (Travis CI) to the project (<a href="https://github.com/AY1920S1-CS2103T-T09-4/main/pull/53">#53</a>),  (AppVeyor) to the team repo  (<a href="https://github.com/AY1920S1-CS2103T-T09-4/main/pull/53">#53</a>) and  (Coveralls) to the team repo</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Enhancements to existing features:</p>
<div class="ulist">
<ul>
<li>
<p>Updated the color scheme and develop first UI prototype along with CSS Changes (Pull Requests: <a href="https://github.com/AY1920S1-CS2103T-T09-4/main/pull/66">#66</a>, <a href="https://github.com/AY1920S1-CS2103T-T09-4/main/pull/189">#189</a>,
<a href="https://github.com/AY1920S1-CS2103T-T09-4/main/pull/136">#136</a>, <a href="https://github.com/AY1920S1-CS2103T-T09-4/main/pull/129">#129</a>)</p>
</li>
<li>
<p>Add Tabbed panels for UI. This includes writing the FXML files and controllers for the UI elements (Pull Requests: <a href="https://github.com/AY1920S1-CS2103T-T09-4/main/pull/72">#72</a>, <a href="https://github.com/AY1920S1-CS2103T-T09-4/main/pull/192">#192</a>, <a href="https://github.com/AY1920S1-CS2103T-T09-4/main/pull/145">#145</a>, <a href="https://github.com/AY1920S1-CS2103T-T09-4/main/pull/169">#169</a> )</p>
</li>
<li>
<p>Add command to interact with Tabbed panels for UI (Pull Requests: <a href="https://github.com/AY1920S1-CS2103T-T09-4/main/pull/110">#110</a> , <a href="https://github.com/AY1920S1-CS2103T-T09-4/main/pull/76">#76</a>)</p>
</li>
<li>
<p>Ported GUI tests into code base and added to it (Pull Requests: <a href="https://github.com/AY1920S1-CS2103T-T09-4/main/pull/103">#103</a>, <a href="https://github.com/AY1920S1-CS2103T-T09-4/main/pull/139">#139</a>)</p>
</li>
<li>
<p>Wrote tests for Statistics Module, Storage Module (Json) (Pull Requests: <a href="https://github.com/AY1920S1-CS2103T-T09-4/main/pull/174">#174</a>, <a href="https://github.com/AY1920S1-CS2103T-T09-4/main/pull/171">#171</a>, <a href="https://github.com/AY1920S1-CS2103T-T09-4/main/pull/160">#160</a>, <a href="https://github.com/AY1920S1-CS2103T-T09-4/main/pull/83">#83</a>)</p>
</li>
</ul>
</div>
</li>
<li>
<p>Documentation:</p>
<div class="ulist">
<ul>
<li>
<p>Wrote About us page: <a href="https://github.com/AY1920S1-CS2103T-T09-4/main/pull/48">#48</a></p>
</li>
<li>
<p>Tweaked to existing contents of the User Guide: <a href="https://github.com/AY1920S1-CS2103T-T09-4/main/pull/140">#140</a></p>
</li>
<li>
<p>Created new UML model diagrams for Developer Guide: <a href="https://github.com/AY1920S1-CS2103T-T09-4/main/pull/159">#159</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Community:</p>
<div class="ulist">
<ul>
<li>
<p>Participated in PRs review(with non-trivial review comments): ( <a href="https://github.com/AY1920S1-CS2103T-T09-4/main/pull/61">#61</a>, <a href="https://github.com/AY1920S1-CS2103T-T09-4/main/pull/62">#62</a>, <a href="https://github.com/AY1920S1-CS2103T-T09-4/main/pull/63">#63</a>, <a href="https://github.com">#42</a>, <a href="https://github.com/AY1920S1-CS2103T-T09-4/main/pull/66">#66</a> , <a href="https://github.com/AY1920S1-CS2103T-T09-4/main/pull/68">#68</a>, <a href="https://github.com/AY1920S1-CS2103T-T09-4/main/pull/72">#72</a>, <a href="https://github.com/AY1920S1-CS2103T-T09-4/main/pull/141">#141</a>)</p>
</li>
<li>
<p>Contributed to forum discussions and shared my solution on enabling GUI tests on Travis CI: <a href="https://github.com/nus-cs2103-AY1920S1/forum/issues/141">#141</a></p>
</li>
<li>
<p>Reported bugs and suggestions for other teams in the class (examples: <a href="https://github.com/AY1920S1-CS2103T-T09-2/main/issues/207">#207</a>  )</p>
</li>
</ul>
</div>
</li>
<li>
<p>Summary:</p>
<div class="ulist">
<ul>
<li>
<p>Contributed total almost 7k LOC: 3k+ functional &amp; 3k+ test code: <a href="https://nus-cs2103-ay1920s1.github.io/tp-dashboard/#search=eugeneteu&amp;sort=groupTitle&amp;sortWithin=title&amp;since=2019-09-06&amp;timeframe=commit&amp;mergegroup=false&amp;groupSelect=groupByRepos&amp;breakdown=false&amp;tabOpen=false">code</a> or (<a href="https://nus-cs2103-ay1920s1.github.io/tp-dashboard/#search=eugeneteu&amp;sort=groupTitle&amp;sortWithin=title&amp;since=2019-09-06&amp;timeframe=commit&amp;mergegroup=false&amp;groupSelect=groupByRepos&amp;breakdown=false&amp;tabOpen=false" class="bare">https://nus-cs2103-ay1920s1.github.io/tp-dashboard/#search=eugeneteu&amp;sort=groupTitle&amp;sortWithin=title&amp;since=2019-09-06&amp;timeframe=commit&amp;mergegroup=false&amp;groupSelect=groupByRepos&amp;breakdown=false&amp;tabOpen=false</a>)</p>
</li>
<li>
<p>Over 41 <a href="https://github.com/AY1920S1-CS2103T-T09-4/main/pulls/EugeneTeu">Pull requests</a> on Github</p>
</li>
<li>
<p>Over 37 <a href="https://github.com/AY1920S1-CS2103T-T09-4/main/issues/created_by/EugeneTeu">issues</a> on Github</p>
</li>
<li>
<p>Complete Contribution <a href="https://nus-cs2103-ay1920s1.github.io/tp-dashboard/#search=eugeneteu&amp;sort=groupTitle&amp;sortWithin=title&amp;since=2019-09-06&amp;timeframe=commit&amp;mergegroup=false&amp;groupSelect=groupByRepos&amp;breakdown=false&amp;tabOpen=false">here</a>  or  (<a href="https://nus-cs2103-ay1920s1.github.io/tp-dashboard/#search=eugeneteu&amp;sort=groupTitle&amp;sortWithin=title&amp;since=2019-09-06&amp;timeframe=commit&amp;mergegroup=false&amp;groupSelect=groupByRepos&amp;breakdown=false&amp;tabOpen=false" class="bare">https://nus-cs2103-ay1920s1.github.io/tp-dashboard/#search=eugeneteu&amp;sort=groupTitle&amp;sortWithin=title&amp;since=2019-09-06&amp;timeframe=commit&amp;mergegroup=false&amp;groupSelect=groupByRepos&amp;breakdown=false&amp;tabOpen=false</a>)</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="contributions-to-the-user-guide"><a class="link" href="#contributions-to-the-user-guide">Contributions to the User Guide</a></h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Given below are sections I contributed to the User Guide. They showcase my ability to write documentation targeting end-users.</em></p></td>
</tr>
</tbody>
</table>
<div class="sect2">
<h3 id="generate-stats-code-generate-s-code"><a class="link" href="#generate-stats-code-generate-s-code">Generate stats: <code>generate-s</code></a></h3>
<div class="paragraph">
<p><code>v1.4</code> only allows statistics on orders marked as <code>Completed</code> and has a  <code>Schedule</code>.</p>
</div>
<div class="paragraph">
<p>This function calculates the three type of
statistics as shown below.</p>
</div>
<div class="paragraph">
<p>All statistics that are calculated are only on orders in the <code>archived panel</code> that has been <code>completed</code> and with a valid <code>schedule</code>.
Lacking any of this will cause its non-inclusion into the statistics calculation.
The value calculated is the sum over the total time period within a month, meaning that it will take the date period,
calculate the statistics for orders within that time period, split it by month and display it.</p>
</div>
<div class="paragraph">
<p>e.g Total <code>revenue</code> between 2019.11.12 and 2019.11.29 will calculate the order between these 2 dates, sum up the revenue
(as it falls within a single month) and
display this value.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Accepts two types of input:</p>
<div class="ulist">
<ul>
<li>
<p>Without date input - display total value for that particular statistics.</p>
</li>
<li>
<p>with date input - displays chart (Monthly value) and total value for that particular statistics. <br></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>Generates the statistics with no date input.<br></p>
</div>
<div class="paragraph">
<p>Used for calculating <code>total profit</code>, <code>total revenue</code> and <code>total cost</code>.<br>
Format: <code>generate-s s/stat</code><br></p>
</div>
<div class="paragraph">
<p>Type for <code>stat</code> includes: <code>profit</code>, <code>revenue</code>, <code>cost</code><br>
The argument must match these three words perfectly.</p>
</div>
<div class="paragraph">
<p>Shown below:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/StatsExampleDefault.png" alt="StatsExampleDefault" width="300">
</div>
</div>
<div class="paragraph">
<p>Generates the statistics with date input in chart format (in pop-up modal dialogue).<br>
Format: <code>generate-s s/stat d1/YYYY.MM.DD d2/YYYY.MM.DD</code><br>
Example: <code>generate-s s/revenue d1/2019.10.16 d2/2019.11.21</code><br>
Format for the date is in YYYY.MM.DD e.g <code>2019.05.12</code></p>
</div>
<div class="paragraph">
<p>Shown below:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/StatsExampleGraph.png" alt="StatsExampleGraph" width="300">
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="contributions-to-the-developer-guide"><a class="link" href="#contributions-to-the-developer-guide">Contributions to the Developer Guide</a></h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Given below are sections I contributed to the Developer Guide. They showcase my ability to write technical documentation and the technical depth of my contributions to the project.</em></p></td>
</tr>
</tbody>
</table>
<div class="ulist">
<ul>
<li>
<p>My Contributions are:</p>
<div class="ulist">
<ul>
<li>
<p>Created the architecture, UI and Logic diagram (refer to DG portion with these diagrams)</p>
</li>
<li>
<p>Wrote the User Interface part of the DG (omitted limitations to user part due to length constraint of PPP)</p>
</li>
<li>
<p>Wrote the Statistic Feature in the DG</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<hr>
<div class="imageblock">
<div class="content">
<img src="../images/UiClassDiagram.png" alt="UiClassDiagram" width="400">
</div>
<div class="title">Figure 1. Structure of the UI Component</div>
</div>
<div class="paragraph">
<p><strong>API</strong>: <a href="{repoURL}/src/main/java/seedu/address/ui/Ui.java"><code>Ui.java</code></a></p>
</div>
<div class="paragraph">
<p>The UI consists of a <code>MainWindow</code> that is made up of parts
e.g.<code>CommandBox</code>, <code>ResultDisplay</code>, <code>TabPanel</code>, <code>StatusBarFooter</code> etc.
<code>TabPanel</code> consists of <code>CustomerListPanel</code>, <code>OrderListPanel</code>, <code>PhoneListPanel</code>, <code>CalendarListPanel</code>
and <code>ArchivedOrderListPanel</code>
All these, including the <code>MainWindow</code>, inherit from the abstract <code>UiPart</code> class.</p>
</div>
<div class="paragraph">
<p>The <code>UI</code> component uses JavaFX UI framework. The layout of these UI parts is defined in matching <code>.fxml</code> files that are in the <code>src/main/resources/view</code> folder. For example, the layout of the <a href="{repoURL}/src/main/java/seedu/address/ui/MainWindow.java"><code>MainWindow</code></a> is specified in <a href="{repoURL}/src/main/resources/view/MainWindow.fxml"><code>MainWindow.fxml</code></a>.</p>
</div>
<div class="paragraph">
<p>The <code>UI</code> component,</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Executes user commands using the <code>Logic</code> component.</p>
</li>
<li>
<p>Listens for changes to <code>Model</code> data so that the UI can be updated with the modified data.</p>
</li>
<li>
<p>Different changes in each tab or panel are controlled via the enum <code>UiChange</code>.</p>
</li>
</ul>
</div>
<hr>
<div class="sect2">
<h3 id="statistics-calculation-and-chart-generation-feature"><a class="link" href="#statistics-calculation-and-chart-generation-feature">Statistics Calculation and Chart generation feature</a></h3>
<div class="sect3">
<h4 id="implementation"><a class="link" href="#implementation">Implementation</a></h4>
<div class="paragraph">
<p>This statistic calculation and chart generation feature extends <code>Seller Manager Lite</code> which allows sellers to quickly
generate total statistics from their <code>DataBooks</code>, through the use of a <code>statistic</code>
module that handles this calculation. There are three type of statistic to be calculated and only on <code>completed orders</code>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>Profit</code>  <code>Cost</code> <code>Revenue</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>It implements the following mode of operations:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>default mode with no date input: generates on all completed order total <code>profit</code>, <code>cost</code> or <code>revenue</code></p>
<div class="ulist">
<ul>
<li>
<p>The command enter by the user will be e.g for profit type <code>generate-s s/PROFIT</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>mode with date input from the user: The statistic command takes in 2 <code>dates</code>, <code>starting date</code> and <code>ending date</code>
and generates the <code>profit</code>, <code>cost</code> or <code>revenue</code>  each <code>month</code> between this 2 dates.</p>
<div class="ulist">
<ul>
<li>
<p>command entered by the user will be e.g for profit type`generate-s s/PROFIT s1/YYYY.MM.DD s2/YYYY.MM.DD`</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>Here is the sequence of steps taken by SML when it receives a <code>StatCommand</code>:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/StatisticsCalculationAcitvityDiagram.png" alt="StatisticsCalculationAcitvityDiagram">
</div>
</div>
<div class="sect4">
<h5 id="Design-Statistics"><a class="link" href="#Design-Statistics">Statistic Module</a></h5>
<div class="paragraph">
<p>The statistic module exposes the calculation operations in the <code>Statistics</code> interface.
analogous to the output mode, there are 2 types of methods in this module, one that returns a
<code>String</code> and the other a <code>XYChart.Series&lt;String, Number&gt;</code>.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Methods that return a <code>String</code>:</p>
<div class="ulist">
<ul>
<li>
<p><code>calculateTotalProfitOnCompleted(&#8230;&#8203;)</code></p>
</li>
<li>
<p><code>calculateTotalRevenueOnCompleted(&#8230;&#8203;)</code></p>
</li>
<li>
<p><code>calculateTotalCostOnCompleted(&#8230;&#8203;)</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Methods that return a <code>XYChart.Series&lt;String, Number&gt;</code>:</p>
<div class="ulist">
<ul>
<li>
<p><code>calculateTotalProfitOnCompletedGraph(&#8230;&#8203;)</code></p>
</li>
<li>
<p><code>calculateTotalRevenueOnCompletedGraph(&#8230;&#8203;)</code></p>
</li>
<li>
<p><code>calculateTotalCostOnCompletedGraph(&#8230;&#8203;)</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>All methods were written using java8 Stream() feature. This is such that there are no loops in the code to make it
more readable and maintainable.</p>
</div>
<div class="paragraph">
<p><code>org.apache.commons.math3.stat.StatUtils</code> library is used to calculate the raw data inside a <code>double[]</code>  (primitive double array).
While the current <code>v1.4</code> only use the <code>sum</code> to calculate the exact <code>profit</code>, <code>revenue</code> and <code>cost</code>, <code>v2.0</code> implementation
will make use of the <code>linear regression</code> / <code>average</code> methods inside the library to generate more advanced statistics.</p>
</div>
</div>
<div class="sect4">
<h5 id="design-considerations-alternative-designs-considered"><a class="link" href="#design-considerations-alternative-designs-considered">Design Considerations / Alternative designs considered</a></h5>
<div class="paragraph">
<p>Given that the number of orders in a seller database might be scaled to be very large in the future
the main focus of this feature was to <strong>calculate statistics only when needed</strong>.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Alternative design :</p>
<div class="ulist">
<ul>
<li>
<p>To implement statistics, maintain a few running statistic
counters upon loading of the main app, update these counters/values when the calculation is needed
and then display it. This implementation would have been easy to implement within the existing AB3 code
since it meant extending the <code>Model</code> class with a statistic model as compared to having the <code>UI</code> class to read from
this value.</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Easy to implement on top of AB3.</p>
</li>
<li>
<p>cons: Seller will be unable to obtain an instance of past statistics at each point without storing the history of the statistics somewhere since any change in the database/models will cause the values to change.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Alternative Design (current design) :</p>
<div class="ulist">
<ul>
<li>
<p><code>Statistics</code> module will exist outside of the current packages and be standalone. <code>Logic</code> will handle communication with
this module from <code>UI</code>. Respective Statistics will then be obtained from <code>Logic</code> to be displayed by the <code>StatsWindow</code>.</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Ensure that the respective tasks are properly abstracted, adhering to the Single Responsibility Principle.</p>
</li>
<li>
<p>Pros: Being standalone means the way of calculating the statistics can be changed without affecting the rest of the codebase.</p>
</li>
<li>
<p>Cons: <code>Logic</code> will have to handle more calls and increases its responsibilities.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="sect5">
<h6 id="design-decision-1"><a class="link" href="#design-decision-1">Design Decision 1:</a></h6>
<div class="paragraph">
<p>Given that consideration, we decided that it will be the <code>UI</code> to trigger this call to <code>Logic</code> for calculation
and then display the result of that call. Thus when Statistics need to be shown, the <code>UI</code> module will query the
<code>Logic</code> for the respective data One of the motivations for this approach was to,
as much as possible, maintain the architecture that is already in place in AB3.
Furthermore, given that this feature requires date input from the user, we will need to find a way to get <code>UI</code> to send
the data to make that query to logic. For the old AB3 implementation, <code>CommandResult</code> only contains feedback to the user
with the actual changes on data done with a call to the model during <code>execute(model)</code>.</p>
</div>
</div>
<div class="sect5">
<h6 id="design-decision-2"><a class="link" href="#design-decision-2">Design Decision 2:</a></h6>
<div class="paragraph">
<p>We decided to extend this command pattern by creating a <code>statsPayload</code> object. This object will hold the user
queries for the statistic calculation (if there is any) and be bundled along with the <code>CommandResult</code> class to the
<code>UI</code> to use in its query to logic. When the Ui executes the command to logic, the <code>CommandResult</code> is returned with
this object, which the <code>UI</code> will then use to communicate to <code>Logic</code>. The resulting change
is that the <code>commandResult</code> type will have slightly different behaviour.</p>
</div>
<div class="paragraph">
<p><strong>All <code>commands</code> that
are not <code>statsCommand</code> will call the default constructor of the <code>commandResult</code> class, where there is  an
<code>Optional.empty()</code> in place of the <code>StatsPayload</code></strong>.</p>
</div>
<div class="paragraph">
<p>All <code>statsCommand</code> type will have to call the constructor of <code>commandResult</code> class and pass the <code>StatsPayload</code> object in.
The key motivation behind this idea of a payload was to be able to encapsulate details about the calculation inside a
single object, passed it to the appropriate place to be "unwrapped" when needed. This unwrapping is done by the
<code>mainWindow</code> class in the application and subsequently, the data is passed to the  <code>statistic</code> module.</p>
</div>
<div class="paragraph">
<p>A high-level view of the packages working together:</p>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="../images/statsOverallClassDiagram.png" alt="statsOverallClassDiagram" width="300">
</div>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="current-implementation"><a class="link" href="#current-implementation">Current Implementation</a></h4>
<div class="sect4">
<h5 id="step-by-step-breakdown"><a class="link" href="#step-by-step-breakdown">Step-by-step breakdown</a></h5>
<div class="paragraph">
<p>Below is a more in-depth explanation at each step.</p>
</div>
<div class="paragraph">
<p><strong>Note that this breakdown is for the mode with date input.
For the default mode with no date, the steps are almost the same, except that
<code>DefaultStatisticsWindow</code> is called in place of <code>StatisticsWindow</code>.</strong></p>
</div>
<div class="paragraph">
<p>Step 1: User inputs a stats command e.g <code>generate-s s/REVENUE d1/2018.12.13 d2/2019.11.13</code>.</p>
</div>
<div class="paragraph">
<p>The commandBox executes it and the <code>MainWindow</code> runs its <code>executeCommand(commandText)</code> method.
Referring to the sequence diagram below, this results in <code>logic.execute(commandText)</code> being called and
the <code>statsCommandParser</code> parses the input from the user, returning a
<code>Command</code> object.</p>
</div>
<div class="paragraph">
<p>Seen here is the sequence diagram of the first step</p>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="../images/StatsCommandSequenceDiagram1.png" alt="StatsCommandSequenceDiagram1" width="400">
</div>
</div>
<div class="paragraph">
<p>Step 2: the logic then calls <code>command.execute(command)</code>.</p>
</div>
<div class="paragraph">
<p>When this happens, the <code>StatsCommand</code> executes, which triggers a call to create a new <code>StatsPayload</code>. Then this is used to
create a new <code>CommandResult</code> object and returns that to <code>Logic</code>, completing the execution of the user input command.
Seen here is the sequence diagram of the second step.</p>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="../images/StatsCommandSequenceDiagram2.png" alt="StatsCommandSequenceDiagram2" width="400">
</div>
</div>
<div class="paragraph">
<p>Shown below is a quick summary of step 1-2 (Full complete diagram):</p>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="../images/StatsCommandSequenceDiagram.png" alt="StatsCommandSequenceDiagram" width="600">
</div>
</div>
<div class="paragraph">
<p>Step 3: After the logic component completes its execution and return a <code>CommandResult</code>, the <code>UI</code> will call
<code>performUiChanges</code> that handles the specific <code>UI</code> change. This then results in the <code>statsPayload</code> class being
passed to <code>Logic</code> class and subsequently the <code>statistics</code> module,
where the appropriate calculation will take place.</p>
</div>
<div class="paragraph">
<p>Step 4: <code>Statistic Manager</code> calculates the date.</p>
</div>
<div class="paragraph">
<p>Depending on the input, the <code>Statistic Manager</code> will calculate the value and return that, either in the form of
a <code>String</code> or a <code>XYChart.Series&lt;String, Number&gt;</code>.</p>
</div>
<div class="paragraph">
<p>Step 5: with this output from logic, <code>Statistic Window</code> will then handle the displaying of the statistic, be it in chart
form or string form. With this, the feature has finished executing! Attached below is the summary for step 3-5:</p>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="../images/StatisticsCalculationUI.png" alt="StatisticsCalculationUI" width="400">
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="current-version-code-v1-4-code"><a class="link" href="#current-version-code-v1-4-code">Current Version <code>v1.4</code>:</a></h4>
<div class="paragraph">
<p>Here is a screenshot of the current product:</p>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="../images/StatsExampleGraph.png" alt="StatsExampleGraph" width="300" height="]">
</div>
</div>
</div>
<div class="sect3">
<h4 id="limitations-note-to-developers"><a class="link" href="#limitations-note-to-developers">Limitations/Note to developers:</a></h4>
<div class="paragraph">
<p>Developers working on adding features to this module should take note of these limitations that we have put in place for <code>v1.4</code> of SML:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Date range starts from 1970 onwards</p>
<div class="ulist">
<ul>
<li>
<p>Date of year input starts from 1970 onwards.
This is enough to fit our use case.
Anything lower will be rejected.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Extension of additional Calculation methods</p>
<div class="ulist">
<ul>
<li>
<p>To easily extend the behaviour with additional
methods to calculate, reference the current
implementation in <code>StatisticsManager</code>;
There are utility methods to help you with
extracting the relevant information from your data.</p>
</li>
</ul>
</div>
</li>
<li>
<p>UI Changes</p>
<div class="ulist">
<ul>
<li>
<p>Any additional Ui Changes should be handled by the controllers for the UI classes <code>StatisticWindow</code> and <code>DefaultStatisticWindow</code>
class.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<hr>
</div>
</div>
</div>
</div></div><div id="footer"><div class="container"><div id="footer-text">Last updated 2019-11-11 15:30:04 UTC</div></div></div></body></html>